

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>How to Disable Validation &mdash; YANG Development Kit 0.8.4 documentation</title>
  

  
  
    <link rel="shortcut icon" href="../_static/icon.ico"/>
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../_static/css/width.css" type="text/css" />
  

  

  
    <link rel="top" title="YANG Development Kit 0.8.4 documentation" href="../index.html"/>
        <link rel="up" title="Developer Guide" href="../developer_guide.html"/>
        <link rel="next" title="What are presence classes?" href="presence_class.html"/>
        <link rel="prev" title="How do I execute RPCs?" href="executor_guide.html"/> 

  
  <script src="../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../index.html" class="icon icon-home"> YANG Development Kit
          

          
            
            <img src="../_static/logo.png" class="logo" />
          
          </a>

          
            
            
              <div class="version">
                0.8.4
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../about_ydk.html">About YDK</a></li>
<li class="toctree-l1"><a class="reference internal" href="../getting_started.html">Getting Started</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../developer_guide.html">Developer Guide</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="introduction.html">Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="crud_guide.html">How do I create, update, read and delete?</a></li>
<li class="toctree-l2"><a class="reference internal" href="codec_guide.html">How do I work with instances of YANG data?</a></li>
<li class="toctree-l2"><a class="reference internal" href="executor_guide.html">How do I execute RPCs?</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="">How to Disable Validation</a></li>
<li class="toctree-l2"><a class="reference internal" href="presence_class.html">What are presence classes?</a></li>
<li class="toctree-l2"><a class="reference internal" href="deviation.html">What are deviations?</a></li>
<li class="toctree-l2"><a class="reference internal" href="path.html">How do I use the Path API?</a></li>
<li class="toctree-l2"><a class="reference internal" href="opendaylight.html">How do I use OpenDaylight with YDK?</a></li>
<li class="toctree-l2"><a class="reference internal" href="backward_compatibility.html">Backward compatibility notes</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../api_guide.html">API Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../faq.html">Questions and Answers</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../index.html">YANG Development Kit</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          

 



<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../index.html">Docs</a> &raquo;</li>
      
          <li><a href="../developer_guide.html">Developer Guide</a> &raquo;</li>
      
    <li>How to Disable Validation</li>
      <li class="wy-breadcrumbs-aside">
        
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="how-to-disable-validation">
<span id="validation"></span><h1>How to Disable Validation<a class="headerlink" href="#how-to-disable-validation" title="Permalink to this headline">Â¶</a></h1>
<p>By default all the data sent to Yang enabled server are validated against Yang model constraints like data type, number range and string patterns.
This is one of the major features of YDK. However there is sometime a need to disable data validation in order to see how the server reacts to invalid data.
For this sole purpose the YDK has possibility to disable data validation. This feature currently implemented only for <a class="reference internal" href="../api/providers/netconf_provider.html#ydk.providers.NetconfServiceProvider" title="ydk.providers.NetconfServiceProvider"><code class="xref py py-class docutils literal"><span class="pre">NetconfServiceProvider</span></code></a>
through <a class="reference internal" href="../api/services/crud_service.html#ydk.services.CRUDService" title="ydk.services.CRUDService"><code class="xref py py-class docutils literal"><span class="pre">CrudService</span></code></a> and <a class="reference internal" href="../api/services/netconf_service.html#ydk.services.NetconfService" title="ydk.services.NetconfService"><code class="xref py py-class docutils literal"><span class="pre">NetconfService</span></code></a>.</p>
<p>In order to disable validation of object/entity the <a class="reference internal" href="../api/types.html#ydk.types.Entity" title="ydk.types.Entity"><code class="xref py py-class docutils literal"><span class="pre">Entity</span></code></a> class member <cite>ignore_validation</cite> must be set to <code class="docutils literal"><span class="pre">True</span></code>.
Please note that this setting disables validation on the entire entity including leafs, and children entities.
If the flag is set to non-top-level entity, the validation will be also disabled on all parent entities up to the top-level.
Actually, it is important to note, when validation is disabled on non-top-level entity it must be a part of complete hierarchy of a top-level entity.</p>
<p>Here is an example of a negative test, which demonstrates how YDK validation could be disabled.</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">__future__</span> <span class="kn">import</span> <span class="n">absolute_import</span>
<span class="kn">from</span> <span class="nn">__future__</span> <span class="kn">import</span> <span class="n">print_function</span>

<span class="kn">from</span> <span class="nn">ydk.errors</span>    <span class="kn">import</span> <span class="n">YModelError</span><span class="p">,</span> <span class="n">YServiceProviderError</span>
<span class="kn">from</span> <span class="nn">ydk.providers</span> <span class="kn">import</span> <span class="n">NetconfServiceProvider</span>
<span class="kn">from</span> <span class="nn">ydk.services</span>  <span class="kn">import</span> <span class="n">CRUDService</span>

<span class="kn">from</span> <span class="nn">ydk.models.ydktest.ydktest_sanity</span> <span class="kn">import</span> <span class="n">Runner</span>

<span class="k">def</span> <span class="nf">run_test</span><span class="p">(</span><span class="n">provider</span><span class="p">,</span> <span class="n">uint8_value</span><span class="p">,</span> <span class="n">disable_validation</span><span class="p">):</span>

    <span class="n">crud</span> <span class="o">=</span> <span class="n">CRUDService</span><span class="p">()</span>

    <span class="n">vstr</span> <span class="o">=</span> <span class="s1">&#39;enabled&#39;</span>
    <span class="k">if</span> <span class="n">disable_validation</span><span class="p">:</span>
        <span class="n">vstr</span> <span class="o">=</span> <span class="s1">&#39;disabled&#39;</span>
    <span class="k">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Setting uint8 number to </span><span class="si">%s</span><span class="s2"> when validation is </span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">uint8_value</span><span class="p">,</span> <span class="n">vstr</span><span class="p">))</span>

    <span class="n">runner</span> <span class="o">=</span> <span class="n">Runner</span><span class="p">()</span>
    <span class="n">runner</span><span class="o">.</span><span class="n">ignore_validation</span> <span class="o">=</span> <span class="n">disable_validation</span>   <span class="c1"># Set &#39;ignore_validation&#39; flag</span>
    <span class="n">runner</span><span class="o">.</span><span class="n">ytypes</span><span class="o">.</span><span class="n">built_in_t</span><span class="o">.</span><span class="n">number8</span> <span class="o">=</span> <span class="n">uint8_value</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">crud</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="n">provider</span><span class="p">,</span> <span class="n">runner</span><span class="p">)</span>
        <span class="k">print</span><span class="p">(</span><span class="s2">&quot;OK&quot;</span><span class="p">)</span>
    <span class="k">except</span> <span class="n">YServiceProviderError</span> <span class="k">as</span> <span class="n">err</span><span class="p">:</span>
        <span class="k">print</span><span class="p">(</span><span class="s2">&quot;NETCONF FAILED with Error:&quot;</span><span class="p">)</span>
        <span class="k">print</span><span class="p">(</span><span class="n">err</span><span class="o">.</span><span class="n">message</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;&lt;/error-message&gt;&#39;</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;&quot;en&quot;&gt;&#39;</span><span class="p">)[</span><span class="mi">1</span><span class="p">])</span>
    <span class="k">except</span> <span class="n">YModelError</span> <span class="k">as</span> <span class="n">err</span><span class="p">:</span>
        <span class="k">print</span><span class="p">(</span><span class="s2">&quot;YDK VALIDATION FAILED with YModelError:&quot;</span><span class="p">)</span>
        <span class="k">print</span><span class="p">(</span><span class="n">err</span><span class="o">.</span><span class="n">message</span><span class="p">)</span>

<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s1">&#39;__main__&#39;</span><span class="p">:</span>

    <span class="n">provider</span> <span class="o">=</span> <span class="n">NetconfServiceProvider</span><span class="p">(</span> <span class="s2">&quot;127.0.0.1&quot;</span><span class="p">,</span> <span class="s2">&quot;admin&quot;</span><span class="p">,</span> <span class="s2">&quot;admin&quot;</span><span class="p">,</span> <span class="mi">12022</span><span class="p">)</span>

    <span class="n">run_test</span><span class="p">(</span><span class="n">provider</span><span class="p">,</span> <span class="mi">88</span><span class="p">,</span> <span class="bp">False</span><span class="p">)</span>

    <span class="n">run_test</span><span class="p">(</span><span class="n">provider</span><span class="p">,</span> <span class="mi">888</span><span class="p">,</span> <span class="bp">False</span><span class="p">)</span>

    <span class="n">run_test</span><span class="p">(</span><span class="n">provider</span><span class="p">,</span> <span class="mi">888</span><span class="p">,</span> <span class="bp">True</span><span class="p">)</span>   <span class="c1"># Disable YDK validation</span>
</pre></div>
</div>
<p>The script produces the following results:</p>
<div class="highlight-python3"><div class="highlight"><pre><span></span><span class="n">Setting</span> <span class="n">uint8</span> <span class="n">number</span> <span class="n">to</span> <span class="mi">88</span> <span class="n">when</span> <span class="n">validation</span> <span class="ow">is</span> <span class="n">enabled</span>
<span class="n">OK</span>

<span class="n">Setting</span> <span class="n">uint8</span> <span class="n">number</span> <span class="n">to</span> <span class="mi">888</span> <span class="n">when</span> <span class="n">validation</span> <span class="ow">is</span> <span class="n">enabled</span>
<span class="n">YDK</span> <span class="n">VALIDATION</span> <span class="n">FAILED</span> <span class="k">with</span> <span class="n">YModelError</span><span class="p">:</span>
 <span class="n">Invalid</span> <span class="n">value</span> <span class="s2">&quot;888&quot;</span> <span class="ow">in</span> <span class="s2">&quot;number8&quot;</span> <span class="n">element</span><span class="o">.</span> <span class="n">Path</span><span class="p">:</span> <span class="o">/</span><span class="n">ydktest</span><span class="o">-</span><span class="n">sanity</span><span class="p">:</span><span class="n">runner</span><span class="o">/</span><span class="n">ytypes</span><span class="o">/</span><span class="n">built</span><span class="o">-</span><span class="ow">in</span><span class="o">-</span><span class="n">t</span><span class="o">/</span><span class="n">number8</span>

<span class="n">Setting</span> <span class="n">uint8</span> <span class="n">number</span> <span class="n">to</span> <span class="mi">888</span> <span class="n">when</span> <span class="n">validation</span> <span class="ow">is</span> <span class="n">disabled</span>
<span class="n">NETCONF</span> <span class="n">FAILED</span> <span class="k">with</span> <span class="n">Error</span><span class="p">:</span>
<span class="s2">&quot;888&quot;</span> <span class="ow">is</span> <span class="ow">not</span> <span class="n">a</span> <span class="n">valid</span> <span class="n">value</span><span class="o">.</span>
</pre></div>
</div>
</div>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="presence_class.html" class="btn btn-neutral float-right" title="What are presence classes?" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="executor_guide.html" class="btn btn-neutral" title="How do I execute RPCs?" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'0.8.4',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  false
        };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>